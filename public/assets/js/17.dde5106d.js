(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{496:function(v,_,r){"use strict";r.r(_);var t=r(4),e=Object(t.a)({},(function(){var v=this,_=v.$createElement,r=v._self._c||_;return r("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[r("h4",{attrs:{id:"浏览器架构"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#浏览器架构"}},[v._v("#")]),v._v(" 浏览器架构")]),v._v(" "),r("p",[v._v("首先要了解进程和线程。")]),v._v(" "),r("p",[r("strong",[v._v("进程就是一个程序的运行实例")]),v._v("。当开启一个程序时，操作系统会为这个程序开辟一个内存空间，用来保存存放代码、保存运行中的数据和一个执行任务的主线程，这样一个运行环境就是进程。")]),v._v(" "),r("p",[r("strong",[v._v("线程是进程的一个实体")]),v._v("，是CPU调度和分派的基本单位。线程是不能独立存在的，它由进程来启动和管理，一个进程可以由多个线程，多个线程之间可以共享数据。")]),v._v(" "),r("p",[v._v("进程使用多线程并行处理可以提高运行效率，但进程中任一线程执行出错都会导致整个进程的崩溃。")]),v._v(" "),r("p",[r("strong",[v._v("单进程浏览器")])]),v._v(" "),r("p",[v._v("单进程浏览器中所有的功能模块都是运行在同一个进程中，包括网络、插件、渲染引擎、页面、JavaScript 执行环境等。")]),v._v(" "),r("p",[v._v("单进程的架构导致浏览器"),r("strong",[v._v("不稳定、不安全、不流畅")]),v._v("。")]),v._v(" "),r("p",[r("strong",[v._v("多进程浏览器")])]),v._v(" "),r("p",[v._v("从最新的 Chrome 浏览器来分析：包括"),r("strong",[v._v("一个浏览器主进程，一个 GPU 进程，一个网络进程，多个插件进程和多个渲染进程")]),v._v("。")]),v._v(" "),r("ul",[r("li",[r("p",[r("strong",[v._v("主进程")])]),v._v(" "),r("p",[v._v("主要负责界面显示、用户交互、进程管理，同时提供存储等功能")])]),v._v(" "),r("li",[r("p",[r("strong",[v._v("GPU进程")])]),v._v(" "),r("p",[v._v("chrome 刚发布的时候是没有 GPU 进程的，GPU 的使用初衷是为了做 3D CSS 效果，只是后来随着网页、浏览器 UI 界面都选择用GPU 来绘制，这使得 GPU 成了浏览器普遍的需求，最后 Chrome 在多进程架构师引入了 GPU 进程。")])]),v._v(" "),r("li",[r("p",[r("strong",[v._v("渲染进程")])]),v._v(" "),r("p",[v._v("核心任务是将 HTML、 CSS、 和 JavaScript 转换成用户可以交互的网页，排版引擎 Blink 和 JavaScript 引擎 V8 都运行在渲染进程中。一般默认情况下 chrome 浏览器会为每一个 Tab 标签创建一个渲染进程。")])]),v._v(" "),r("li",[r("p",[r("strong",[v._v("网络进程")])]),v._v(" "),r("p",[v._v("主要负责网络资源的加载")])]),v._v(" "),r("li",[r("p",[r("strong",[v._v("插件进程")])]),v._v(" "),r("p",[v._v("主要负责插件的运行。由于插件容易崩溃，需要通过插件进程来进行隔离，保证插件进程的崩溃不会对浏览器页面造成影响。")])])]),v._v(" "),r("p",[v._v("多进程的架构虽然提高了浏览器的安全性、流程性和稳定性等问题。但是也带来了一些问题：")]),v._v(" "),r("ul",[r("li",[r("p",[r("strong",[v._v("更高的资源占用")])]),v._v(" "),r("p",[v._v("因为每个进程都会包含公共基础结构的副本（如 JavaScript 运行环境），这就意味着浏览器会消耗更多的内存资源。")])]),v._v(" "),r("li",[r("p",[r("strong",[v._v("更复杂的体系架构")])]),v._v(" "),r("p",[v._v("浏览器各模块之间耦合性高、扩展性差等问题，会导致现在的架构已经很难适应新的需求了。")])])]),v._v(" "),r("p",[r("strong",[v._v("未来面向服务的架构")])]),v._v(" "),r("p",[v._v("为了解决这些问题，Chrome 官方团队使用“"),r("strong",[v._v("面向服务的架构")]),v._v("”（Services Oriented Architecture，简称"),r("strong",[v._v("SOA")]),v._v("）的思想设计了新的 Chrome 架构。也就是说 Chrome 整体架构会朝向现代操作系统所采用的“面向服务的架构” 方向发展，原来的各种模块会被重构成独立的服务（Service），每个服务（Service）都可以在独立的进程中运行，访问服务（Service）必须使用定义好的接口，通过 IPC 来通信，从而"),r("strong",[v._v("构建一个更内聚、松耦合、易于维护和扩展的系统")]),v._v("，更好实现 Chrome 简单、稳定、高速、安全的目标。")])])}),[],!1,null,null,null);_.default=e.exports}}]);